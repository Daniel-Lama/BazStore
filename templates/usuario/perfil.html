<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>BazStore | Perfil</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/perfil.css')}}">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://kit.fontawesome.com/1ef70ba703.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
</head>
<body>
    <header>
                <div class="topline"></div>
                <div class="menu-contenedor">
                    <div class="user">
                        {% if session.login %}
                        <img src="../../static/images/{{session.img[0]}}" alt="">
                        <div class="dropdown">
                            <div class="dropdown">
                                <button class="btn-cuenta">{{session.usuario}} <i class="fa fa-caret-down"></i></button>
                                <div class="dropdown-contenido">
                                    <a class="btn-left" href="/perfil">Ver Perfil</a>
                                    <a class="btn-left-cerrar" href="/logout">Cerrar Sesion</a>
                                </div>
                            </div>
                        </div>
                        {% else %}
                        <img src="../../static/images/user-icon.svg" alt="">
                        <div class="dropdown">
                            <div class="dropdown">
                                <button class="btn-cuenta">Acceder a su cuenta <i class="fa fa-caret-down"></i></button>
                                <div class="dropdown-contenido">
                                    <a class="btn-left" href="/login">Iniciar Sesion</a>
                                    <a class="btn-left" href="/registro">Registrarse</a>
                                </div>
                            </div>
                        </div>
                        {% endif %}

            <h1>BazStore</h1>
            <div class="buscador">
                <form>
                    <div class="search">
                        <input type="text" class="searchTerm" placeholder="Buscar productos por su nombre...">
                        <button type="submit" class="searchButton"><label for="search-bar" id="search-icon"><i class="fa-solid fa-magnifying-glass"></i></label></button>
                    </div>
                </form>
            </div>
                <nav class="categorias">
                    <button class="btn-menu" onclick="document.location='/'">INICIO</button>
                    <div class="dropdown">
                        <button class="btn-menu" onclick="document.location='/hombre'">HOMBRE</button>
                        <div class="dropdown-contenido">
                            <a class="btn-content" href="/hombre/tshirts">T-Shirt</a>
                            <a class="btn-content" href="/hombre/camisa">Camisas</a>
                            <a class="btn-content" href="/hombre/jeans">Jeans</a>
                            <a class="btn-content" href="/hombre/zapatos">Zapatos</a>
                            <a class="btn-content" href="/hombre/deportivo">Deportivo</a>
                
                        </div>
                    </div>
                    <div class="dropdown">
                        <button class="btn-menu" onclick="document.location='/mujer'">MUJER</button>
                        <div class="dropdown-contenido">
                            <a class="btn-content" href="/mujer/vestidos">Vestidos</a>
                            <a class="btn-content" href="/mujer/blusas">Blusas</a>
                            <a class="btn-content" href="/mujer/jeans">Jeans</a>
                            <a class="btn-content" href="/mujer/zapatos">Zapatos</a>
                            <a class="btn-content" href="/mujer/deportivo">Deportivo</a>
                
                        </div>
                    </div>
                    <div class="dropdown">
                        <button class="btn-menu" onclick="document.location='/accesorios'">ACCESORIOS</button>
                        <div class="dropdown-contenido">
                            <a class="btn-content" href="/accesorios/reloj">Reloj</a>
                            <a class="btn-content" href="/accesorios/cadenas">Cadenas</a>
                            <a class="btn-content" href="/accesorios/brazaletes">Brazaletes</a>
                            <a class="btn-content" href="/accesorios/anillos">Anillos</a>
                            <a class="btn-content" href="/accesorios/otros">Otros</a>
                
                        </div>
                    </div>
                    <button class="btn-menu" onclick="document.location='/nuevo'">NUEVO</button>
                </nav>
            </div>
        </div>
    </header>
    <main>
        <img class="perfil-img" src="../static/images/user.svg">
        <i class="fa fa-pen-to-square" onclick="usuarioImg()"></i>
        <input type="file" id="subir">
        
        <h2 class="perfil-nombre"> {{session.usuario}} </h2>
        <div class="btn-superiores">
            <button class="btn" type="submit" id="lanzar-modal"><i class="fa-sharp fa-solid fa-arrow-up-from-bracket"></i> Publicar articulo</button>
            <button class="btn boton1" onclick="Toggle()"><i class="fa-sharp fa-solid fa-trash"></i> Borrar Artículo</button>
        </div>
            <div class="contenedor-modal">
            <div class="modal">
                
                <form class="form-modal" action="/perfil/publicar" method="post" enctype="multipart/form-data">
                    <h2>Publica tu próximo artículo</h2>
                    <section class="modal-nombre">
                        <label for="nom2">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" placeholder=" " autocomplete="off" autofocus required>
                    </section>
                    <section class="modal-precio">
                        <label for="num">Precio:</label>
                        <input type="number" id="precio" name="precio"  placeholder=" " minlength="1" maxlength="7" oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" required>
                        <label class="dop">DOP</label>
                    </section>
                    <section class="modal-img">
                    <button onclick="bannerImg()"><i class="fa-sharp fa-solid fa-image" ></i> Subir imagen</button>
                    <input type="file" id="articulo" name="adjunto" accept=".jpg,.png,.webp,.jpeg,.gif"  required>
                    </section>
                    <div class="modal-tallas">
                        <h4>Talla</h4>
                        <select name="talla" id="talla" required>
                            <option></option>
                            <option value="XXL">XXL</option>
                            <option value="XL">XL</option>
                            <option value="L">L</option>
                            <option value="M">M</option>
                            <option value="S">S</option>
                            <option value="XS">XS</option>
                            <option value="6">6-9M (74CM)</option>
                            <option value="9">9-12M (80CM)</option>
                            <option value="12">12-18M (86CM)</option>
                            <option value="18">18-24M (92CM)</option>
                            <option value="2">2-3Y (98CM)</option>
                        </select>
                    </div>
                    <div class="modal-ubicacion">
                        <h4>Ubicación</h4>
                        <select name="ubicacion" id="ubicacion" required>
                            <option></option>
                            <option value="Todo el pais">Todo el pais</option>
                            <option value="Santo Domingo">Santo Domingo</option>
                            <option value="Santiago">Santiago</option>
                            <option value="Puerto Plata">Puerto Plata</option>
                            <option value="San Francisco">San Francisco</option>
                            <option value="Barahona">Barahona</option>
                        </select>
                    </div>
                    <div class="modal-condiciones">
                        <h4>Condición</h4>
                        <select name="condicion" id="condicion" required>
                            <option></option>
                            <option value="Nuevo">Nuevo</option>
                            <option value="Usado">Usado</option>
                        </select>
                    </div>

                    <div class="modal-tipo">
                        <h4>Tipo de artículo</h4>
                        <select name="tipo" id="tipo" required>
                            <option></option>
                            <option value="Hombre">Hombre</option>
                            <option value="Mujer">Mujer</option>
                            <option value="Accesorio">Accesorio</option>
                        </select>
                    </div>
                    {% if request.form['tipo']=="Hombre" %}
                    <div class="modal-subtipo">
                        <h3>Sub-tipo de artículo</h3>
                        <select name="subtipo" id="subtipo" required>
                            <option></option>
                            <option value="T-shirt">T-shirt</option>
                            <option value="Camisas">Camisas</option>
                            <option value="Jeans">Jeans</option>
                            <option value="Zapatos">Zapatos</option>
                            <option value="Deportivo">Deportivo</option>
                        </select>
                    </div>
                    {% elif request.form['tipo']=="Mujer" %}
                    <div class="modal-subtipo">
                        <h3>Sub-tipo de artículo</h3>
                        <select name="subtipo" id="subtipo" required>
                            <option></option>
                            <option value="Vestido">Vestido</option>
                            <option value="Blusa">Blusa</option>
                            <option value="Jeans">Jeans</option>
                            <option value="Zapatos">Zapatos</option>
                            <option value="Deportivo">Deportivo</option>
                        </select>
                    </div>
                    {% else%}
                    <div class="modal-subtipo">
                        <h3>Sub-tipo de artículo</h3>
                        <select name="subtipo" id="subtipo" required>
                            <option></option>
                            <option value="Reloj">Reloj</option>
                            <option value="Cadenas">Cadenas</option>
                            <option value="Brazaletes">Brazaletes</option>
                            <option value="Anillos">Anillos</option>
                            <option value="Otros">Otros</option>
                        </select>
                    </div>
                    {% endif %}
                    <section class="modal-descripcion"> 
                        <label for="com">Descripción:</label>
                        <textarea name="com" id="com" cols="30" rows="10" maxlength="500" oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"></textarea>
                    </section>
                    <div class="modal-btn">
                        <button class="btn btn-publicar" type="submit" id="lanzar-modal">Publicar</button>
                        <button class="btn btn-cerrar" type="button" id="ocultar-modal">Cerrar</button>
                    </div>
                            
                </form>
            </div>    
            </div>

        <div class="search-perfil">
            <input type="text" class="searchTerm-perfil" placeholder="Buscar articulos en este perfil...">
            <button type="submit" class="searchButton-perfil"><label for="search-bar-perfil" id="search-icon-perfil"><i class="fa-solid fa-magnifying-glass"></i></label></button>
        </div>
    </main>
    <script src="/static/javaScript/app.js"></script>
    
    <aside>
        <h2>Artículo publicados</h1>


        <div class="contenedor-articulos">
            {% for articulo in articulos %}
                {% if session.id == articulo[1] %}
                    {% include 'sitio/card.html' %}
                {% endif %}

            {% endfor %}
        
        </div>
        
    </aside>
    
  {% include 'sitio/footer.html' %}